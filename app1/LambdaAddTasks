
import hashlib, boto3, json
from boto3.dynamodb.conditions import Key, Attr

def lambda_handler(event, context):
    accessKey = ""
    secretKey = ""
    sessToken = ""

    
    email  = event["Email"]
    name = event["Name"]
    description = event["Description"]
    date = event["Date"]

    dynamodb = boto3.resource('dynamodb', aws_access_key_id = accessKey, aws_secret_access_key = secretKey, aws_session_token = sessToken)
    response = table.query(KeyConditionExpression=Key('email').eq(email), KeyConditionExpression=Key('taskName').eq(name))
    
    table = dynamodb.Table('tasks')
    response = table.put_item(
        Item={
            'email': email,
            'taskName' : name,
            'description': description,
            'date': date,
            'complete': False
            }
        )  
    return response